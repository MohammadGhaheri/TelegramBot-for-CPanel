ğŸ“– Ø¢Ù…ÙˆØ²Ø´ Ù†ØµØ¨ Ùˆ Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ø±Ø¨Ø§Øª ØªÙ„Ú¯Ø±Ø§Ù… Ø¨Ø±Ø§ÛŒ Ù‡Ø§Ø³Øª Ù‡Ø§ÛŒ Cpanel Ø§Ø´ØªØ±Ø§Ú©ÛŒ
Ø§Ú¯Ù‡ Ø³ÙˆØ§Ù„ÛŒ Ø¯Ø§Ø´ØªÛŒÙ† Ù…ÛŒ ØªÙˆÙ†ÛŒÙ† Ø¨Ø§ Ù…Ù† ØªÙ…Ø§Ø³ Ø¨Ú¯ÛŒØ±ÛŒØ¯:
mohammad.ghaheri@gmail.com
[https://www.linkedin.com/in/moahammadghaheri
](https://www.linkedin.com/in/mohammadghaheri/)
[https://www.youtube.com/mohammadghaheri](https://www.youtube.com/mohammadghaheri)

Ø§ÛŒÙ† Ù¾Ø±ÙˆÚ˜Ù‡ Ø¨Ø±Ø§ÛŒ Ú©Ø§Ø±Ø¨Ø±Ø§Ù†ÛŒ Ø¢Ù…Ø§Ø¯Ù‡ Ø´Ø¯Ù‡ Ú©Ù‡ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡Ù†Ø¯ Ø¨Ø¯ÙˆÙ† Ù†ÛŒØ§Ø² Ø¨Ù‡ Composer ÛŒØ§ Ø®Ø· ÙØ±Ù…Ø§Ù†ØŒ Ø±Ø¨Ø§Øª ØªÙ„Ú¯Ø±Ø§Ù… Ø±Ø§ Ø±ÙˆÛŒ Ù‡Ø§Ø³Øª Cpanel Ø§Ø¬Ø±Ø§ Ú©Ù†Ù†Ø¯.

## Ù¾ÛŒØ´â€ŒÙ†ÛŒØ§Ø²Ù‡Ø§

* Ù‡Ø§Ø³Øª Ø¨Ø§ PHP 7.4 ÛŒØ§ Ø¨Ø§Ù„Ø§ØªØ±
* Ø¯Ø§Ù…Ù†Ù‡ Ø¨Ø§ SSL ÙØ¹Ø§Ù„ (https)
* ÛŒÚ© Ø±Ø¨Ø§Øª Ø³Ø§Ø®ØªÙ‡ Ø´Ø¯Ù‡ Ø§Ø² Ø·Ø±ÛŒÙ‚ [BotFather](https://t.me/BotFather)

## Ù…Ø±Ø§Ø­Ù„ Ù†ØµØ¨

### Û±. Ø¢Ù¾Ù„ÙˆØ¯ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§

* Ù¾ÙˆØ´Ù‡ Ù¾Ø±ÙˆÚ˜Ù‡ Ø±Ø§ Ø±ÙˆÛŒ Ù‡Ø§Ø³Øª (Ù…Ø«Ù„Ø§Ù‹ Ù…Ø³ÛŒØ± `/public_html/tgbot`) Ø¢Ù¾Ù„ÙˆØ¯ Ú©Ù†ÛŒØ¯.
* Ù…Ø·Ù…Ø¦Ù† Ø´ÙˆÛŒØ¯ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ø²ÛŒØ± ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø±Ù†Ø¯:

  * `webhook.php`
  * `setwebhook.php`
  * `testhook.php`
  * Ù¾ÙˆØ´Ù‡ `Commands/`

### Û². ØªÙ†Ø¸ÛŒÙ… ÙØ§ÛŒÙ„â€ŒÙ‡Ø§

Ø³Ù‡ ÙØ§ÛŒÙ„ Ø§ØµÙ„ÛŒ Ø¨Ø§ÛŒØ¯ Ø¨Ø§ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø±Ø¨Ø§Øª Ø´Ù…Ø§ ØªÙ†Ø¸ÛŒÙ… Ø´ÙˆÙ†Ø¯:

* **`setwebhook.php`**

  * ØªÙˆÚ©Ù† Ø±Ø¨Ø§Øª (Bot API Key) Ø±Ø§ Ø§Ø² BotFather Ø¨Ú¯ÛŒØ±ÛŒØ¯ Ùˆ Ø¬Ø§ÛŒÚ¯Ø²ÛŒÙ† Ú©Ù†ÛŒØ¯.
  * Ø¢Ø¯Ø±Ø³ Ø¯Ø§Ù…Ù†Ù‡ Ø®ÙˆØ¯ (Ù…Ø«Ù„Ø§Ù‹ `https://yourdomain.com/tgbot/webhook.php`) Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯.

* **`webhook.php`**

  * Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¯ÛŒØªØ§Ø¨ÛŒØ³ MySQL (Ù‡Ø§Ø³ØªØŒ ÛŒÙˆØ²Ø±ØŒ Ù¾Ø³ÙˆØ±Ø¯ØŒ Ù†Ø§Ù… Ø¯ÛŒØªØ§Ø¨ÛŒØ³) Ø±Ø§ Ø¬Ø§ÛŒÚ¯Ø²ÛŒÙ† Ú©Ù†ÛŒØ¯.

* **`testhook.php`**

  * Ø¯Ø± Ø§ÛŒÙ† ÙØ§ÛŒÙ„ Ù‡Ù… Bot API Key Ùˆ Username Ø±Ø¨Ø§Øª Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯.

### Û³. Ø³Ø§Ø®Øª Ø¯ÛŒØªØ§Ø¨ÛŒØ³

* Ø¯Ø± Cpanel ÛŒÚ© Ø¯ÛŒØªØ§Ø¨ÛŒØ³ Ø¬Ø¯ÛŒØ¯ Ø¨Ø³Ø§Ø²ÛŒØ¯.
* ÛŒÚ© ÛŒÙˆØ²Ø± ØªØ¹Ø±ÛŒÙ Ú©Ù†ÛŒØ¯ Ùˆ Ø¨Ù‡ Ø¯ÛŒØªØ§Ø¨ÛŒØ³ Ø¯Ø³ØªØ±Ø³ÛŒ Ú©Ø§Ù…Ù„ Ø¨Ø¯Ù‡ÛŒØ¯.
* Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¯ÛŒØªØ§Ø¨ÛŒØ³ Ø±Ø§ Ø¯Ø± `webhook.php` ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯.

### Û´. Ø³Øª Ú©Ø±Ø¯Ù† Webhook

* Ø¯Ø± Ù…Ø±ÙˆØ±Ú¯Ø± Ø®ÙˆØ¯ Ø¨Ø§Ø² Ú©Ù†ÛŒØ¯:

  ```
  https://yourdomain.com/tgbot/setwebhook.php
  ```
* Ø§Ú¯Ø± Ø¯Ø±Ø³Øª ØªÙ†Ø¸ÛŒÙ… Ø´Ø¯Ù‡ Ø¨Ø§Ø´Ø¯ØŒ Ù¾ÛŒØ§Ù… Ù…ÙˆÙÙ‚ÛŒØª Ø¯Ø±ÛŒØ§ÙØª Ù…ÛŒâ€ŒÚ©Ù†ÛŒØ¯.

### Ûµ. ØªØ³Øª Ø¯Ø±Ø³Øª Ø³Øª Ø´Ø¯Ù† Webhook Ø±Ø¨Ø§Øª

* Ø¨Ø±Ø§ÛŒ Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø§ÛŒÙ† Ø¢Ø¯Ø±Ø³ Ø±Ø§ Ø¨Ø§Ø² Ú©Ù†ÛŒØ¯:

  ```
  https://yourdomain.com/tgbot/testhook.php
  ```
* ÛŒØ§ Ù…Ø³ØªÙ‚ÛŒÙ…Ø§Ù‹ Ø¨Ù‡ Ø±Ø¨Ø§Øª Ù¾ÛŒØ§Ù… Ø¯Ù‡ÛŒØ¯ (Ù…Ø«Ù„Ø§Ù‹ `start/` ÛŒØ§ ÛŒÚ© Ù¾ÛŒØ§Ù… Ù…Ø¹Ù…ÙˆÙ„ÛŒ).

---

# ğŸ“– Telegram Bot Setup Guide (English)ÙˆØ¨ 

This project is designed for users who want to set up a Telegram bot on a shared hosting (Cpanel) **without Composer or command line**.

## Requirements

* Hosting with PHP 7.4+
* Domain with SSL (https)
* A Telegram bot created via [BotFather](https://t.me/BotFather)

## Installation Steps

### 1. Upload files

* Upload the project folder to your hosting (e.g., `/public_html/tgbot`).
* Make sure the following files exist:

  * `webhook.php`
  * `setwebhook.php`
  * `testhook.php`
  * `Commands/` folder

### 2. Configure files

Edit the following files manually:

* **`setwebhook.php`**

  * Insert your Bot API Key from BotFather.
  * Set your domain URL (e.g., `https://yourdomain.com/tgbot/webhook.php`).

* **`webhook.php`**

  * Add your MySQL database credentials (host, user, password, database).

* **`testhook.php`**

  * Enter your Bot API Key and bot username.

### 3. Create a database

* In Cpanel, create a new MySQL database.
* Add a user and grant full privileges.
* Use this information inside `webhook.php`.

### 4. Set the webhook

* Open in your browser:

  ```
  https://yourdomain.com/tgbot/setwebhook.php
  ```
* You should see a success message if everything is correct.

### 5. Test if Webhook is set

* Open in browser:

  ```
  https://yourdomain.com/tgbot/testhook.php
  ```
* Or simply send a message to your bot (e.g., `/start` or any text).


DB Creation Query:

-- Ø¬Ø¯ÙˆÙ„ Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ø¨Ø§ Ù†Ù‚Ø´ Ùˆ Ø´Ø±Ú©Øª
CREATE TABLE `bi_users` (
    `id` INT AUTO_INCREMENT PRIMARY KEY,
    `telegram_id` BIGINT NOT NULL UNIQUE, -- chat_id ÛŒØ§ user_id
    `first_name` VARCHAR(100),
    `last_name` VARCHAR(100),
    `username` VARCHAR(100),
    `company` VARCHAR(100),               -- Ù…Ø«Ù„Ø§ alpha, beta, ...
    `role` VARCHAR(50),                   -- Ù…Ø«Ù„Ø§ SalesManager, TopHead
    `created_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

-- Ø¬Ø¯ÙˆÙ„ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø°Ø®ÛŒØ±Ù‡â€ŒØ´Ø¯Ù‡ (SaveData)
CREATE TABLE `bi_saved_data` (
    `id` INT AUTO_INCREMENT PRIMARY KEY,
    `data_key` VARCHAR(100) NOT NULL,     -- Ú©Ù„ÛŒØ¯ ÛŒØ§ Ù†Ø§Ù… Ú¯Ø²Ø§Ø±Ø´
    `data_value` TEXT NOT NULL,           -- Ø¯Ø§Ø¯Ù‡ Ø°Ø®ÛŒØ±Ù‡â€ŒØ´Ø¯Ù‡ (JSON ÛŒØ§ Ù…ØªÙ†)
    `created_by` BIGINT,                  -- telegram_id Ú©Ø§Ø±Ø¨Ø±ÛŒ Ú©Ù‡ Ø°Ø®ÛŒØ±Ù‡ Ú©Ø±Ø¯Ù‡
    `created_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (`created_by`) REFERENCES `bi_users` (`telegram_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

-- Ø¬Ø¯ÙˆÙ„ Ù¾ÛŒØ§Ù…â€ŒÙ‡Ø§ÛŒ Ø§Ø±Ø³Ø§Ù„ Ù…Ø³ØªÙ‚ÛŒÙ… (DirectSend)
CREATE TABLE `bi_direct_messages` (
    `id` INT AUTO_INCREMENT PRIMARY KEY,
    `target_group` VARCHAR(50) NOT NULL,  -- SalesManager, TopHead, ...
    `target_company` VARCHAR(100) NOT NULL, -- alpha, beta, All
    `raw_message` TEXT NOT NULL,          -- Ù…ØªÙ† Ø®Ø§Ù… Ù¾ÛŒØ§Ù…
    `sent_by` BIGINT,                     -- telegram_id Ø§Ø±Ø³Ø§Ù„â€ŒÚ©Ù†Ù†Ø¯Ù‡
    `sent_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (`sent_by`) REFERENCES `bi_users` (`telegram_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;


